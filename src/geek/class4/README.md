# 作业内容

## 题目

按照自己的构想，写一个项目满足基本的目录结构和工程，代码需要包含对数据层、业务层、API 注册，以及 main 函数对于服务的注册和启动，信号处理，使用 Wire 构建依赖。可以使用自己熟悉的框架。

## 工程说明

[工程结构](./coin/README.md)

- 使用kratos框架搭建一个应用

- kratos 内置通过proto生成http、grpc服务注册的功能

- internal 目录下通过ddd的战术设计指导实现了 dto、biz、do、po 的业务领域的划分

- 通过wire依赖注入生成初始化代码

这种设计的主要目的是降低微服务后续维护成本 相比于传统的工程架构 内部代码的耦合度更低 后续扩展功能或者替换某些服务更加便捷 但是最终到实际项目还是要面向业务场景来具体取舍 没有最好的架构 只有最适合的

## 作业代码

***当前目录下的 coin 工程***

说明:

> 示例代码为 coin 服务 提供http服务和grpc服务访问的方式 有三个接口 add reduce show 模拟添加、减少、展示硬币数量的功能

> 该服务启动了 swagger-ui 可以通过swagger-ui 测试 addr: http://localhost:8000/q/swagger-ui

<font color=”green“>启动命令:</font>

```sh
# 根目录下执行
go run main.go -geek class4
```

## 总结反思

本课时的作业代码曾计划自己实现protoc的插件 进而实现生成服务注册的代码 但是想的太多留给自己真的写代码的时间只有一个下午 所以最终直接拿kratos框架进行编码作业 虽然过程中深入理解了微服务的工程化的一些理念 但是毕竟不符合自己真实所想 总体来说对自己的这次作业并不满意 以此为鉴 后面的作业希望自己能做的更好
